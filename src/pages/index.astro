---
import Layout from '../layouts/Layout.astro';
import Hero from '../components/Hero.astro';
import PhotoBanner from '../components/PhotoBanner.astro';
import AboutSection from '../components/AboutSection.astro';
import ProjectCard from '../components/ProjectCard.astro';
import Skills from '../components/Skills.astro';
import ContactCTA from '../components/ContactCTA.astro';

const projects = [
  {
    title: "Finance App Redesign",
    category: "UX/UI Design",
    image: "https://images.pexels.com/photos/6804581/pexels-photo-6804581.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",
    slug: "finance-app"
  },
  {
    title: "E-commerce Website",
    category: "Web Design & Development",
    image: "https://images.pexels.com/photos/230544/pexels-photo-230544.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",
    slug: "ecommerce-website"
  },
  {
    title: "Health & Wellness Platform",
    category: "Product Design",
    image: "https://images.pexels.com/photos/3683074/pexels-photo-3683074.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",
    slug: "health-platform"
  },
  {
    title: "Travel Booking App",
    category: "Mobile App Design",
    image: "https://images.pexels.com/photos/2007401/pexels-photo-2007401.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",
    slug: "travel-app"
  },
  {
    title: "Music Streaming Dashboard",
    category: "Dashboard Design",
    image: "https://images.pexels.com/photos/1763075/pexels-photo-1763075.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",
    slug: "music-dashboard"
  }
];
---

<Layout title="James - UX/UI Designer & Product Manager">
  <Hero />
  
  <PhotoBanner />
  
  <section class="featured-work section">
    <div class="container">
      <h2 class="section-title">Featured Work</h2>
      
      <div class="projects-grid">
        <div class="project-main">
          <ProjectCard
            title={projects[0].title}
            category={projects[0].category}
            image={projects[0].image}
            slug={projects[0].slug}
            index={0}
          />
        </div>
        
        <div class="projects-secondary">
          {projects.slice(1, 5).map((project, index) => (
            <div class="project-item">
              <ProjectCard
                title={project.title}
                category={project.category}
                image={project.image}
                slug={project.slug}
                index={index + 1}
              />
            </div>
          ))}
        </div>
      </div>
      
      <div class="projects-action fade-in">
        <a href="/work" class="button">View All Projects</a>
      </div>
    </div>
  </section>
  
  <AboutSection />
  
  <Skills />
  
  <ContactCTA />
</Layout>

<style>
  .section-title {
    text-align: left;
    margin-bottom: var(--space-7);
    opacity: 0;
    transform: translateY(100%);
    filter: blur(20px);
    animation: slideUpAndClarify 1s var(--transition-bounce) forwards;
    animation-delay: 0.4s;
  }
  
  .projects-grid {
    display: grid;
    gap: var(--space-8);
    margin-bottom: var(--space-7);
  }
  
  .project-main {
    grid-column: 1 / -1;
  }
  
  .projects-secondary {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-8);
  }
  
  .projects-action {
    display: flex;
    justify-content: center;
  }

  @keyframes slideUpAndClarify {
    to {
      transform: translateY(0);
      opacity: 1;
      filter: blur(0);
    }
  }
  
  @media (max-width: 768px) {
    .projects-secondary {
      grid-template-columns: 1fr;
    }
  }
</style>

<script>
  import { gsap } from 'gsap';
  import { ScrollTrigger } from 'gsap/ScrollTrigger';
  
  gsap.registerPlugin(ScrollTrigger);
  
  document.addEventListener('DOMContentLoaded', () => {
    const fadeElements = document.querySelectorAll('.fade-in');
    
    fadeElements.forEach((el) => {
      gsap.fromTo(
        el,
        { 
          opacity: 0,
          y: 30
        },
        { 
          opacity: 1,
          y: 0,
          duration: 0.8,
          scrollTrigger: {
            trigger: el,
            start: 'top 80%',
            toggleActions: 'play none none none'
          }
        }
      );
    });
    
    const projectCards = document.querySelectorAll('.project-card');
    
    projectCards.forEach((card, index) => {
      gsap.fromTo(
        card,
        { 
          opacity: 0,
          y: 30
        },
        { 
          opacity: 1,
          y: 0,
          duration: 0.6,
          delay: index * 0.1,
          scrollTrigger: {
            trigger: card,
            start: 'top 90%',
            toggleActions: 'play none none none'
          }
        }
      );
    });
  });
</script>