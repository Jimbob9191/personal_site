---
import Layout from '../layouts/Layout.astro';
import ContactCTA from '../components/ContactCTA.astro';

const photos = [
  {
    url: "https://images.pexels.com/photos/3987066/pexels-photo-3987066.jpeg",
    title: "Urban Architecture",
    category: "Architecture"
  },
  {
    url: "https://images.pexels.com/photos/1516680/pexels-photo-1516680.jpeg",
    title: "Street Photography",
    category: "Street"
  },
  {
    url: "https://images.pexels.com/photos/3683074/pexels-photo-3683074.jpeg",
    title: "Nature",
    category: "Landscape"
  },
  {
    url: "https://images.pexels.com/photos/2007401/pexels-photo-2007401.jpeg",
    title: "Travel",
    category: "Travel"
  },
  {
    url: "https://images.pexels.com/photos/1763075/pexels-photo-1763075.jpeg",
    title: "Urban Life",
    category: "Street"
  }
];
---

<Layout title="Photography - James Molyneux-Birch" description="Explore James's photography portfolio showcasing urban, landscape, and street photography.">
  <section class="gallery-hero section">
    <div class="container">
      <h1 class="gallery-title fade-in">Photography</h1>
      <p class="gallery-description fade-in">
        A collection of moments captured through my lens, exploring urban landscapes, architecture, and street life.
      </p>
    </div>
  </section>

  <section class="gallery-grid section">
    <div class="container">
      <div class="photos-grid">
        {photos.map((photo) => (
          <div class="photo-item fade-in">
            <img src={photo.url} alt={photo.title} />
            <div class="photo-overlay">
              <h3>{photo.title}</h3>
              <span>{photo.category}</span>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <ContactCTA />
</Layout>

<style>
  .gallery-hero {
    padding-top: var(--space-10);
    text-align: center;
  }

  .gallery-title {
    font-size: clamp(2.5rem, 10vw, 5rem);
    margin-bottom: var(--space-4);
  }

  .gallery-description {
    font-size: 1.25rem;
    color: var(--color-secondary);
    max-width: 700px;
    margin: 0 auto;
  }

  .photos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: var(--space-5);
  }

  .photo-item {
    position: relative;
    border-radius: 8px;
    overflow: hidden;
    aspect-ratio: 3/2;
  }

  .photo-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.6s ease;
  }

  .photo-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    padding: var(--space-4);
    background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
    color: white;
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.3s ease;
  }

  .photo-item:hover img {
    transform: scale(1.05);
  }

  .photo-item:hover .photo-overlay {
    opacity: 1;
    transform: translateY(0);
  }

  .photo-overlay h3 {
    margin-bottom: var(--space-2);
    font-size: 1.25rem;
  }

  .photo-overlay span {
    font-size: 0.875rem;
    opacity: 0.8;
  }

  @media (max-width: 768px) {
    .photos-grid {
      grid-template-columns: 1fr;
    }
  }
</style>

<script>
  import { gsap } from 'gsap';
  import { ScrollTrigger } from 'gsap/ScrollTrigger';
  
  gsap.registerPlugin(ScrollTrigger);
  
  document.addEventListener('DOMContentLoaded', () => {
    const fadeElements = document.querySelectorAll('.fade-in');
    
    fadeElements.forEach((el) => {
      gsap.fromTo(
        el,
        { 
          opacity: 0,
          y: 30
        },
        { 
          opacity: 1,
          y: 0,
          duration: 0.8,
          scrollTrigger: {
            trigger: el,
            start: 'top 80%',
            toggleActions: 'play none none none'
          }
        }
      );
    });
  });
</script>